<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="icon" href="">
    <title></title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link href="static/fontawesome-free-5.15.1-web/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3.2.41/dist/vue.global.js"></script>

    <link href="static/css/main.css" rel="stylesheet">
</head>
<body>
    <div id="wrap">
        <main>
            <div class="container pb-3">
                <section class="my-5">
                    <h2 class="fw-bold">周俊宇 
                        <span class="h5 fw-bold">/ {{age}}歲 / 前端工程師</span>
                    </h2>

                    <hr class="mb-4">
                    
                    <h3 class="section-title">個人技能樹：</h3>
                    <ul style="max-width: 280px">
                        <li v-for="skill in skills" class="mb-3">
                            <div class="h6">{{skill.title}}：</div>
                            <table class="table table-sm">
                                <tr v-for="td in skill.list">
                                    <td>{{td.name}}</td> 
                                    <td class="text-end">{{monthsToYearString(td.exp)}}</td>
                                </tr>
                            </table>
                        </li>
                    </ul>
                </section>

                <section class="my-5">
                    <h3 class="section-title">特色工作作品：(Demo頁)</h3>
                    <ul>
                        <li v-for="item in works">
                            <a :href="item.url" target="_blank">{{item.title}} ({{item.spec}})</a>
                        </li>
                    </ul>
                </section>

                <section class="my-5">
                    <h3 class="section-title">其他工作作品：(近兩年) (正式連結頁)</h3>
                    <ul>
                        <li v-for="item in otherWorks">
                            <a v-if="item.link !== ''" :href="item.link" target="_blank">{{item.name}}</a>
                            <span v-else>{{item.name}}</span>
                        </li>
                    </ul>
                </section>

                <section class="my-5">
                    <h3 class="section-title">LeetCode [難度Medium] 刷題記錄：(約150題)</h3>
                    <ul class="mb-3">
                        <li v-for="item in leetCode">
                            <a :href="item.href" target="_blank">{{item.title}}</a>
                        </li>
                    </ul>
                </section>

                <section class="my-5">
                    <h3 class="section-title">CodePen 自製實用功能 / 工具：</h3>
                    <ul class="mb-3">
                        <li v-for="item in codePen.tool">
                            <a :href="item.href" target="_blank">{{item.title}}</a>
                        </li>
                    </ul>
                </section>

                <section class="my-5">
                    <h3 class="section-title">Canvas 學習作業：</h3>
                    <ul class="mb-3">
                        <li v-for="item in codePen.canvas">
                            <a :href="item.href" target="_blank">{{item.title}}</a>
                        </li>
                    </ul>
                </section>

                <section class="my-5">
                    <h3 class="section-title">Phaser.js 自製遊戲：</h3>
                    <ul class="mb-3">
                        <li v-for="item in phaser">
                            <a :href="item.href" target="_blank">{{item.title}}</a>
                        </li>
                    </ul>
                </section>

            </div>
        </main>
        <footer>
            <div class="position-fixed" style="position: sticky; left: 0; bottom: 15px; width: 100%; z-index: -1;">
                <div class="container text-end">
                    <svg style="width: clamp(240px,50%,550px); stroke-width: 3px;" id="comebuySvg" viewBox="-4 -4 417 331" fill="none" preserveAspectRatio="xMidYMax meet">
                        <path style="stroke-dashoffset: 3030; stroke-dasharray: 3030 3030; stroke: #0cb" d="M82.5 15.4995C-16.5001 -14.0005 -36.5 213.499 82.5 172.999L135.5 134.999M135.5 134.999C135.5 115.499 97.5 95.9995 82.5 134.999C80 147.666 82.1 172.999 110.5 172.999C127.289 166.329 133.237 158.558 135.5 134.999ZM135.5 134.999L139.5 114.999V174.999C136.3 130.999 162.748 67.9995 168 174.999C160.5 92.9995 196 104.999 193.5 174.999L243.5 144.499C215.5 94.9995 191 131.499 199.5 155.499C210.94 176.491 221.076 179.591 243.5 174.999C272.17 161.141 292.546 91.526 293 13.4995C292.161 -4.73876 284.512 -0.500014 279.5 13.4995C266.265 46.9767 255.797 94.5457 254.693 130M254.693 130C253.67 162.855 260.689 185.307 281 176.5C313.668 159.215 313 130 254.693 130ZM254.693 130C253.78 133.113 260.693 134.178 312 132.5C308.384 216.118 356.102 170.106 349.5 132.5C344.537 222.061 400 161 385.5 132.5C385.188 269.566 385.73 350.425 354.5 314.5L385.5 308L349.5 297.5L391 292L344.5 277.5L398.5 269L339.5 251L406.5 241.5H328.5M328.5 241.5L349.5 324.5H388L412 217.5H344.5M328.5 241.5C312 239 302.5 232.5 300 217.5C298 187 344.5 187 344.5 217.5M328.5 241.5L325.5 229.5M344.5 217.5H333.5M333.5 217.5H322.5L325.5 229.5M333.5 217.5L339.5 212H328.5L330.5 204.5L322.5 209.5L316.5 201.5V212H307L314.5 217.5L307 223.5H316.5L314.5 231L322.5 226V233.5L325.5 229.5" stroke="#0a0"/>
                    </svg>
                </div>
            </div>
        </footer>
    </div>
    <script>
        const { ref, reactive, onMounted } = Vue;
        const App = {
            setup(){
                const age = ref( Math.floor( ( new Date() - new Date('1993-10-31') )/1000/60/60/24/365 ) )

                const skills = reactive({
                    frontEnd: {
                        title: '基礎 / 主題',
                        class: 'col-lg-4',
                        list: [
                            { name: 'HTML / CSS / JS (ES6)', exp: 48, },
                            { name: 'jQuery / Bootstrap', exp: 48, },
                            { name: 'Tailwind', exp: 6, },
                            { name: 'Canvas', exp: 3, },
                        ],
                    },
                    frameworks: {
                        title: '三大框架',
                        class: 'col-lg-4',
                        list: [
                            { name: 'Vue2 / Vue3 (cdn)', exp: 12, },
                            { name: 'Vue-router / Vuex (cli)', exp: 3, },
                            { name: 'Angular (cdn)', exp: 6, },
                            { name: 'React', exp: 3, },
                        ],
                    },
                    plugins: {
                        title: '大型套件',
                        class: 'col-lg-2',
                        list: [
                            { name: 'GSAP 3', exp: 6, },
                            { name: 'Three.js', exp: 3, },
                            { name: 'D3.js', exp: 3, },
                            { name: 'Phaser.js', exp: 3, },
                        ],
                    },
                    others: {
                        title: '其他',
                        class: 'col-lg-2',
                        list: [
                            { name: 'SVN', exp: 24, },
                            { name: 'GIT', exp: 12, },
                            { name: 'SQL', exp: 12, },
                        ]
                    }
                })
                
                const works = reactive([
                    {
                        title: '皮爾森數據',
                        img: 'static/img/Pearson.jpg',
                        url: 'Pearson/templates/index.html',
                        core: 'Bootstrap、jQuery',
                        plugins: 'GSAP、D3',
                        spec: '自製地圖縮放與互動',
                    },
                    {
                        title: 'Platform A',
                        img: 'static/img/PlatformA.PNG',
                        url: 'PlatformA/index.html',
                        core: 'Bootstrap、jQuery、Vue',
                        plugins: '無',
                        spec: '模擬場景放置畫作',
                    },
                    {
                        title: '台北國際乳癌研討會',
                        img: 'static/img/TIBCS2020.jpg',
                        url: 'TIBCS2020/templates/index.html',
                        core: 'Bootstrap、jQuery',
                        plugins: '無',
                        spec: '首頁、Exhibition 切圖',
                    },
                    {
                        title: '中國醫藥大學設備圖',
                        img: 'static/img/cmuh.jpg',
                        url: 'CMUH/templates/map.html',
                        core: 'Bootstrap、jQuery、Vue',
                        plugins: '無',
                        spec: 'Vue 整理資料渲染畫面',
                    },
                    {
                        title: 'LOREAL 春酒抽獎',
                        img: '',
                        url: 'LOREAL_lottery/templates/index.html',
                        core: 'jQuery、Vue',
                        plugins: '無',
                        spec: '數學運算、模擬物理',
                    },
                ])

                const otherWorks = reactive([
                    { name: '典亮基金會', link: 'https://www.dianliang.org.tw/' },
                    { name: '常在法律事務所', link: 'https://www.tsartsai.com.tw/index' },
                    { name: '教育實踐研究計畫成果交流平台', link: 'https://tpr.moe.edu.tw/achievement/' },
                    { name: '雲豹 - 沙崙基地訪客預約系統', link: 'https://visitor.secpaas.org.tw/rental' },
                    { name: '表演藝術評論台 (特色作品)', link: 'https://pareviews.ncafroc.org.tw/' },
                    { name: '國藝會 - 國家文藝獎 (特色作品)', link: 'https://www.ncafroc.org.tw/artsaward/index' },
                    { name: '台灣癌症聯合學術年會 (TJCC)', link: '' },
                    { name: '台灣乳房醫學會 (TIBCS)', link: '' },
                    { name: '中華民國美容醫學醫學會 (CSCSM)', link: '' },
                    { name: '中華牙醫學會 (ADS)', link: '' },
                    { name: '生物醫學聯合學術年會 (JACBS)', link: '' },
                    { name: 'InsHangout (交友網站)', link: '' },
                    { name: 'NCDR Line 活動頁面', link: '' },
                    { name: 'STPI 知識服務平台 / 科產平台 / 科創平台 / 計畫管考系統', link: '' },
                    { name: '老師好! 樂齡課程人力媒合平台', link: '' },
                    { name: '生活驚嘆號', link: '' },
                ])
                
                const leetCode = reactive([
                    { title: '0001 題 ~ 2000 題', href: 'https://hackmd.io/V_NP67KSRKuCvlhOBmTMWA?view', },
                    { title: '2001 題 ~ 2500 題', href: 'https://hackmd.io/L1Jf61E5QuaFxYsL9zXsIQ?view', },
                ])

                const codePen = reactive({
                    tool: [
                        { title: '功能 - 下拉選單連動 年 / 月 / 日', href: 'https://codepen.io/comebuycb/pen/mdqNRZQ', },
                        { title: '功能 - 壓縮圖片(可多張)，並回傳 base64 or blob', href: 'https://codepen.io/comebuycb/pen/VwBLwbN', },
                        { title: '工具 - 用正規表達式找 class & jquery', href: 'https://codepen.io/comebuycb/pen/BaojGdz', },
                    ],
                    canvas: [
                        { title: '課程14 - Agar.io',  href: 'https://codepen.io/comebuycb/pen/JjRrjXX', },
                        { title: '課程16 - 小朋友下樓梯',  href: 'https://codepen.io/comebuycb/pen/GRjyoWG', },
                        { title: '課程18 - 小精靈',  href: 'https://codepen.io/comebuycb/pen/NWRYeBB', },
                    ]
                })

                const phaser = reactive([
                    { title: 'Phaser 自製遊戲', href: 'https://comebuycb.github.io/playPhaser/', },
                ])

                const monthsToYearString = ( num ) => {
                    if ( num < 12 ){ return num + ' 月' }
                    return Number((num / 12).toFixed(1)) + ' 年'
                }

                const monthsToYear = ( num ) => {
                    return (num / 12).toFixed(1)
                }

                const objectSameKeysToArray = ( array ) => {
                    let obj = {}
                    array.forEach( e => {
                        for (let [key,val] of Object.entries(e) ){
                            if ( !obj[key] ){
                                obj[key] = []
                            }
                            obj[key].push(val) 
                        }
                    })
                    return obj
                }

                onMounted(()=>{
                    let path = document.querySelector('#comebuySvg path');
                    let pathLen = path.getTotalLength();
                    path.style.strokeDasharray = pathLen + ' ' + pathLen;
                    path.style.strokeDashoffset = pathLen;
                    
                    scrollShowSvg( pathLen - window.innerHeight )

                    function scrollShowSvg( endLen ){
                        window.addEventListener('scroll', ()=>{
                            let start = 0
                            let dd = document.documentElement
                            let SP = ( dd.scrollTop + document.body.scrollTop - start ) / ( dd.scrollHeight - dd.clientHeight - start );
                            let drawLen = (pathLen - endLen) * SP

                            path.style.strokeDashoffset = pathLen - drawLen
                            // console.log( pathLen, drawLen, path.style.strokeDashoffset )
                        })
                    }
                })

                return {
                    age,
                    skills,
                    works,
                    otherWorks,
                    leetCode,
                    codePen,
                    phaser,
                    monthsToYearString,
                    monthsToYear,
                    objectSameKeysToArray,
                }
            }
        }

        Vue.createApp(App).mount('#wrap');
    </script>
</body>
</html>